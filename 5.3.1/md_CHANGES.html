<!-- HTML header for doxygen 1.9.2-->
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=11" />
  <meta name="generator" content="Doxygen 1.9.5" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>EleFits: Change log</title>
  <link href="tabs.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
  <script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
    <div id="top">
      <!-- do not remove this div, it is closed by doxygen! -->
      <div id="titlearea">
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr style="height: 56px;">
              <td id="projectlogo"><a href="https://cnes.github.io/EleFits/"><img alt="Logo"
                    src="elefits_notext.png" /></a></td>
              <td id="projectalign" style="padding-left: 0.5em;">
                <div id="projectname">EleFits
                  <span id="projectnumber">&#160;5.3.1</span>
                </div>
                <div id="projectbrief">A modern C++ API on top of CFITSIO</div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <!-- end header part -->
      <!-- GitHub corner -->
      <a href="https://github.com/CNES/EleFits" class="github-corner" aria-label="View source on GitHub"><svg
          viewBox="0 0 250 250" aria-hidden="true">
          <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
          <path
            d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
            fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
          <path
            d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
            fill="currentColor" class="octo-body"></path>
        </svg></a>
      <!-- GitHub corner --><!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Change log </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md28"></a>
5.3.1</h1>
<h2><a class="anchor" id="autotoc_md29"></a>
Bug fix</h2>
<ul>
<li><code>BintableColumns::insert_null()</code> was ill-formed</li>
</ul>
<h1><a class="anchor" id="autotoc_md30"></a>
5.3</h1>
<h2><a class="anchor" id="autotoc_md31"></a>
Bug fixes</h2>
<ul>
<li><code>parseAll()</code> threw when parsing long string user-defined keywords</li>
<li>Row count-based <code>Column</code> constructors accept <code>int</code> in addition to <code>long</code></li>
<li>Typo: <code>Position::emtpy()</code> renamed as <code>Position::empty()</code></li>
</ul>
<h2><a class="anchor" id="autotoc_md32"></a>
Breaking changes (with backward compatibility aliases)</h2>
<ul>
<li><code>Column::entry()</code> deprecated and renamed as <code>field()</code> (name was wrong wrt. the FITS standard)</li>
<li>Snake-cased functions names for better integration with the standard library and <code>Linx</code><ul>
<li>Pascal-cased names are kept but deprecated</li>
<li>Data classes due to be replaced with <code>Linx</code> in version 6 are unchanged</li>
</ul>
</li>
<li>Renamed <code>Seq</code> suffix as <code>n</code> (e.g. <code>parseSeq()</code> is now <code>parse_n()</code>) following standard library convention</li>
<li>Renamed <code>BintableColumns::rename()</code> as <code>update_name()</code> to emphasize the write operation</li>
</ul>
<h2><a class="anchor" id="autotoc_md33"></a>
New features</h2>
<ul>
<li><code>MefFile</code> supports backward indexing (e.g. <code>const auto&amp; hdu = f[-2]</code>)</li>
<li>HDUs, including the Primary, can be removed with <code>MefFile::remove()</code></li>
<li>Strategies enable and automatically perform predefined or user-defined actions, like compression or checksum validation<ul>
<li>Added methods <code>MefFile::strategy()</code> and classes <code>Strategy</code>, <code>CompressionAction</code> and <code>Action</code></li>
<li>Action <code>ValidateChecksums</code> automatically validates and possibly updates checksums</li>
<li>Action <code>CiteEleFits</code> adds a citation in the Primary (enabled by default)</li>
<li>Compression actions specify image HDU compression</li>
</ul>
</li>
<li>Image HDU compression<ul>
<li>Added compression data classes <code>Quantization</code>, <code>Gzip</code>, <code>Rice</code>...</li>
<li>Added compression actions <code>Compress</code> and <code>CompressAuto</code></li>
<li>Implemented compression benchmark</li>
<li>Program <code>EleFitsReadStructure</code> prints the compression type (algorithm and losslessness)</li>
<li>New program <code>EleFitsCompress</code> compresses FITS files according to the desired strategy</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md34"></a>
Cleaning</h2>
<ul>
<li>Previously deprecated <code>MefFile</code> members were removed</li>
</ul>
<h2><a class="anchor" id="autotoc_md35"></a>
Considered features for 6.0</h2>
<ul>
<li>Make EleFits header only</li>
<li>Rely on the Linx library for data classes (e.g. replace <code>Fits::Raster</code> with <code>Linx::Raster</code>)</li>
<li>Refactor <code>HduCategory</code> and <code>KeywordCategory</code> for cleaner API and better performance</li>
<li>Remove <code>Euclid</code> namespace</li>
</ul>
<h1><a class="anchor" id="autotoc_md36"></a>
5.2</h1>
<h2><a class="anchor" id="autotoc_md37"></a>
Dependency change</h2>
<ul>
<li>Updated to Elements 6.2.1 and C++17</li>
</ul>
<h2><a class="anchor" id="autotoc_md38"></a>
New features</h2>
<ul>
<li>Structured bindings are supported</li>
</ul>
<h1><a class="anchor" id="autotoc_md39"></a>
5.1</h1>
<h2><a class="anchor" id="autotoc_md40"></a>
Bug fixes</h2>
<ul>
<li><code>BintableColumns::initSeq()</code> was ill-formed for non-tuple sequences</li>
<li>Fixed <code>BintableColumns::readSegmentSeq()</code> with unresolved bound (-1)</li>
<li>Calling <code>BintableColumns::init()</code> while having accessed another HDU edited the wrong HDU</li>
</ul>
<h2><a class="anchor" id="autotoc_md41"></a>
Dependency change</h2>
<ul>
<li>Updated to Elements 6.1.1</li>
</ul>
<h1><a class="anchor" id="autotoc_md42"></a>
5.0 (breaking)</h1>
<h2><a class="anchor" id="autotoc_md43"></a>
Bug fixes</h2>
<ul>
<li>Function <code>shapeSize()</code> was wrong for <code>N = 0</code></li>
<li>Method <code>readSize()</code> of <code>ImageHdu</code> and <code>ImageRaster</code> was wrong for <code>N != 2</code></li>
</ul>
<h2><a class="anchor" id="autotoc_md44"></a>
Dependency change</h2>
<ul>
<li>Updated to Elements 6.0.1</li>
</ul>
<h2><a class="anchor" id="autotoc_md45"></a>
Breaking changes</h2>
<ul>
<li><code>Raster&lt;T, N&gt;</code> becomes <code>Raster&lt;T, N, TContainer&gt;</code> to work with any contiguous container (with <code>PtrRaster&lt;T, N&gt; = Raster&lt;T, N, T*&gt;</code> and <code>VecRaster&lt;T, N&gt; = Raster&lt;T, N, vector&lt;T&gt;&gt;</code>)</li>
<li><code>ColumnInfo&lt;T&gt;</code> becomes <code>ColumnInfo&lt;T, N&gt;</code> and variable <code>repeatCount</code> becomes method <code>repeatCount()</code> to support multidimensional entries</li>
<li><code>Column&lt;T&gt;</code> becomes <code>Column&lt;T, N, TContainer&gt;</code> to support multidimensional entries and to work with any contiguous container (with <code>PtrColumn&lt;T, N&gt; = Column&lt;T, N, T*&gt;</code> and <code>VecColumn&lt;T, N&gt; = Column&lt;T, N, vector&lt;T&gt;&gt;</code>)</li>
<li><code>PtrColumn(info, elementCount, data)</code> becomes <code>PtrColumn(info, rowCount, data)</code> for homogeneity with <code>VecColumn</code></li>
</ul>
<h2><a class="anchor" id="autotoc_md46"></a>
Refactoring</h2>
<ul>
<li><code>Raster</code>, <code>Column</code> and <code>Position</code> inherit <code>DataContainer</code> (see below)</li>
<li><code>PtrRaster</code>, <code>VecRaster</code>, <code>PtrColumn</code> and <code>VecColumn</code> are now mere aliases</li>
<li>Methods which took a <code>Raster&amp;</code> or <code>Column&amp;</code> as parameter now accept any type which fullfills <code>Raster</code> or <code>Column</code> requirements</li>
<li>All <code>DataContainer</code>s fulfill the standard <code><a class="el" href="interfaceContiguousContainer.html" title="Standard contiguous container requirements.">ContiguousContainer</a></code> requirements (e.g are iterable)</li>
<li>All <code>DataContainer</code>s have vector space arithmetic (e.g. support <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>)</li>
<li><code>DataContainer::apply()</code> and <code>DataContainer::generate()</code> enable arbitrary element-wise transforms, including with other <code>DataContainer</code>s as arguments</li>
<li><code>ColumnInfo</code> has a member <code>shape</code> in lieu of <code>repeatCount</code> to support multidimensional entries</li>
<li><code>Column::entry()</code> returns a view as a <code>PtrRaster</code> for multidimensional columns</li>
<li><code>Column::elementCount()</code> is deprecated and replaced with standard <code>size()</code></li>
<li><code>MefFile</code> method names have been standardized (old names are kept for backward compatibility but deprecated)</li>
<li><code>VecRaster::vector()</code> and <code>VecColumn::vector()</code> are deprecated (use <code>container()</code> instead, which performs no copy)</li>
<li><code>Named</code> and <code>Indexed</code> are deprecated (use maker function <code>as()</code>)</li>
</ul>
<h2><a class="anchor" id="autotoc_md47"></a>
Other new features</h2>
<ul>
<li>Header units and data units can be accessed directly from a <code>MefFile</code> (e.g. <code>access&lt;ImageRaster&gt;(1)</code> is a shortcut for <code>access&lt;ImageHdu&gt;(1).raster()</code>)</li>
<li>Multi-dimensional columns are supported</li>
<li>Empty binary table HDUs can be created</li>
<li><code>FileMode::Write</code> added to edit an existing file or create a new one</li>
<li>Added <code>BintableColumns::readSeq()</code> overloads for homogeneous sequences (returns <code><a class="elRef" href="http://en.cppreference.com/w/cpp/container/vector.html">std::vector</a>&lt;VecColumn&lt;T&gt;&gt;</code>)</li>
<li><code>Record</code> and <code>DataContainer</code>s support <code>operator&lt;&lt;()</code></li>
<li>New method <code>FitsFile::handoverToCfitsio()</code> returns the CFITSIO's <code>fitsfile*</code></li>
<li>New "Game of Life" example demonstrates the use of slicing</li>
</ul>
<h2><a class="anchor" id="autotoc_md48"></a>
Optimization and cleaning</h2>
<ul>
<li>Access to raster and column elements is notably faster</li>
<li>Many similar code blocks have been merged (e.g. through mixins)</li>
<li>Several overloads have been merged (e.g. with <code>ColumnKey</code> and <code>TypedKey</code>)</li>
<li>Legal notices have been reviewed</li>
<li>Formatting has been reviewed</li>
<li>This change log was added to Doxygen pages</li>
</ul>
<h1><a class="anchor" id="autotoc_md49"></a>
4.0 (breaking)</h1>
<h2><a class="anchor" id="autotoc_md50"></a>
Dependency change</h2>
<ul>
<li>Update to Elements 5.14.0</li>
</ul>
<h2><a class="anchor" id="autotoc_md51"></a>
Renaming</h2>
<ul>
<li>Project<ul>
<li><code>EL_FitsIO</code> -&gt; <code>EleFits</code></li>
</ul>
</li>
<li>Modules:<ul>
<li><code>EL_CfitsioWrapper</code> -&gt; <code>EleCfitsioWrapper</code></li>
<li><code>EL_FitsUtils</code> -&gt; <code>EleFitsUtils</code></li>
<li><code>EL_FitsData</code> -&gt; <code>EleFitsData</code></li>
<li><code>EL_FitsFile</code> -&gt; <code>EleFits</code></li>
<li><code>EL_FitsIO_Examples</code> -&gt; <code>EleFitsExamples</code></li>
<li><code>EL_FitsIO_Validation</code> -&gt; <code>EleFitsValidation</code></li>
</ul>
</li>
<li>Programs:<ul>
<li>According to module renaming, with additional underscores removed</li>
</ul>
</li>
<li>Namespace:<ul>
<li><code>FitsIO</code> -&gt; <code>Fits</code></li>
</ul>
</li>
<li>Macros:<ul>
<li><code>EL_FITSIO</code> prefix -&gt; <code>ELEFITS</code></li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md52"></a>
Other breaking changes</h2>
<ul>
<li><code>SifFile::header()</code> returns a <code>Header</code> instead of an <code>Hdu</code></li>
<li><code>Raster.shape</code> and <code>Column.info</code> become <code>Raster.shape()</code> and <code>Column.info()</code></li>
<li><code>Raster.data()</code>, <code>Column.data()</code> and <code>Column.elementCount()</code> are not virtual anymore: they call private virtual <code>dataImpl()</code> and <code>Column.elementCountImpl()</code> according to the NVI idiom</li>
<li>Deprecated items are removed, most notably methods of <code>Hdu</code>, <code>ImageHdu</code> and <code>BintableHdu</code> which were moved to <code>Header</code>, <code>ImageRaster</code> and <code>BintableColumns</code></li>
</ul>
<h1><a class="anchor" id="autotoc_md53"></a>
3.2</h1>
<h2><a class="anchor" id="autotoc_md54"></a>
Bug fixes</h2>
<ul>
<li>Column unit is written when appending a new column</li>
</ul>
<h2><a class="anchor" id="autotoc_md55"></a>
Refactoring (backward compatible)</h2>
<ul>
<li><code>RecordHdu</code> is renamed as <code>Hdu</code></li>
<li>New handlers <code>Header</code>, <code>ImageRaster</code> and <code>BintableColumns</code> are responsible for reading and writing header and data units</li>
<li>Introduction of classes <code>VariantValue</code> to prepare migration from <code>boost::any</code> to <code>boost::variant</code> variant</li>
<li><code>FileMode</code> replaces <code>FitsFile::Permission</code>, <code>SifFile::Permission</code> and <code>MefFile::Permission</code></li>
<li>Class <code>HduCategory</code> replaces enum <code>HduType</code></li>
<li><code>RecordVector</code> is renamed as <code>RecordVec</code></li>
<li><code>FitsIOError</code> is renamed as <code>FitsError</code></li>
</ul>
<h2><a class="anchor" id="autotoc_md56"></a>
New features</h2>
<ul>
<li>HDU access<ul>
<li>Named HDU access methods support <code>EXTVER</code> keyword and use HDU type to disambiguate name-version couples</li>
<li>Iterators, filters and selectors are provided to iterate over selected HDUs (e.g. with range loops)</li>
<li>HDUs are categorized more precisely with <code>HduCategory</code> (e.g. <code>Primary</code> vs. <code>Ext</code>, <code>Data</code> vs. <code>Metadata</code>) than with <code>HduType</code></li>
</ul>
</li>
<li>All HDUs<ul>
<li><code>RecordMode</code> controls the behavior of record writing methods</li>
<li>HDU checksums can be computed and verified</li>
<li><code>RecordSeq</code> is a shortcut for <code>RecordVec&lt;VariantValue&gt;</code></li>
</ul>
</li>
<li>Image HDUs<ul>
<li>Image regions can be read and written, classes <code>Region</code> and <code>FileMemRegions</code> are introduced</li>
<li>Image data can be read in place</li>
<li><code>Position</code> has arithmetics operators</li>
<li><code>makeRaster</code> allows bypassing template parameters to build <code>Raster</code>s</li>
</ul>
</li>
<li>Binary table HDUs<ul>
<li>Binary table column segments can be read and written, classes <code>Segment</code> and <code>FileMemSegments</code> are introduced</li>
<li>Rows can be appended in Binary table HDUs</li>
<li>Vectors of <code>Column</code>s can be read and written, in addition to tuples</li>
<li>Binary table data can be read in place</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md57"></a>
Deprecated</h2>
<ul>
<li><code>RecordHdu</code> is a deprecated alias to <code>Hdu</code></li>
<li>Methods of <code>Hdu</code>, <code>ImageHdu</code> and <code>BintableHdu</code> to read and write records, rasters and columns are deprecated: They should be replaced with analogous methods of <code>Header</code>, <code>ImageRaster</code> and <code>BintableColumns</code></li>
<li>Explicit use of <code>boost::any</code>: should be replaced with <code>VariantValue</code></li>
<li><code>FitsFile::Permission</code> is a deprecated alias to <code>FileMode</code></li>
<li><code>HduType</code> is a deprecated alias to <code>HduCategory</code></li>
<li><code>VecRefRaster</code> and <code>VecRefColumn</code></li>
<li><code>RecordVector</code> is a deprecated alias to <code>RecordVec</code></li>
<li><code>FitsIOError</code> is a deprecated alias to <code>FitsError</code></li>
</ul>
<h2><a class="anchor" id="autotoc_md58"></a>
Cleaning</h2>
<ul>
<li><code>Raster</code> is refactored, and the value type can be const-qualified for read-only data</li>
<li><code>Position</code> is a proper class, instead of a compile-time conditional alias</li>
<li><code>KeywordCategory</code> is merged into <code>StandardKeyword</code> (named <code>KeywordCategory</code> analogously to <code>HduCategory</code>)</li>
<li>Nested <code>Cfitsio</code> namespaces are renamed to disambiguate documentation</li>
<li>Benchmark output is clearer</li>
<li>Fuctions <code>seqForeach()</code> and <code>seqTransform()</code> loop transparently over various sequences (<code>vector</code>, <code>tuple</code>, <code>array</code>...), which simplifies top-level signatures</li>
</ul>
<h1><a class="anchor" id="autotoc_md59"></a>
3.1</h1>
<h2><a class="anchor" id="autotoc_md60"></a>
Bug fixes</h2>
<ul>
<li>String columns are correctly read when reading multiple columns</li>
<li>Bitpix of compressed images is correctly parsed by <code>EL_FitsIO_ReadStructure</code></li>
</ul>
<h2><a class="anchor" id="autotoc_md61"></a>
New features</h2>
<ul>
<li>New method <code>MefFile::access(string)</code> checks that extactly one HDU with given name exists</li>
<li>Binary table columns can be read by index</li>
<li>Binary table column names can be read and updated</li>
<li><code>Column</code> values can be accessed directly with <code>operator()</code></li>
<li><code>Raster</code> and <code>Column</code> values can be accessed with backward (negative) indices through <code>at</code> methods</li>
<li>Classes <code>Named</code> and <code>Indexed</code> improve readability and safety to read records and columns</li>
<li><code>Raster</code> and <code>Column</code> define a <code>Value</code> type, <code>Raster</code> define a <code>Dim</code> constant</li>
<li>Method <code>RecordHdu.as()</code> casts to another HDU handler</li>
<li>Exceptions thrown all derive from <code>FitsIOError</code></li>
<li>Keywords can be filtered in <code>RecordHdu::readKeywords()</code> using new enum <code>KeywordCategory</code></li>
</ul>
<h2><a class="anchor" id="autotoc_md62"></a>
Cleaning</h2>
<ul>
<li><code>FitsFile::open()</code> is protected again, <code>FitsFile::reopen()</code> is more robust</li>
<li>HDU handlers cannot be created on their own</li>
<li>Error messages contain more informations</li>
<li>Benchmark is made more complete, extensible and more automated</li>
<li>Major documentation update</li>
</ul>
<h1><a class="anchor" id="autotoc_md63"></a>
3.0 (breaking)</h1>
<h2><a class="anchor" id="autotoc_md64"></a>
Breaking changes</h2>
<ul>
<li>HDU indices are 0-based</li>
</ul>
<h1><a class="anchor" id="autotoc_md65"></a>
2.2</h1>
<h2><a class="anchor" id="autotoc_md66"></a>
Dependency changes</h2>
<ul>
<li>Update to Elements 5.12.0 and C++14</li>
</ul>
<h2><a class="anchor" id="autotoc_md67"></a>
Bug fixes</h2>
<ul>
<li>Records of <code>any</code> are properly cast to records of <code>complex</code> (when valid)</li>
</ul>
<h2><a class="anchor" id="autotoc_md68"></a>
New features</h2>
<ul>
<li>Rasters with variable dimension (<code>n = -1</code>) can be read and written</li>
<li>Reaccessing an HDU doesn't prevent anymore using previous references to it</li>
<li>Program <code>EL_FitsIO_PrintStructure</code> lists HDU characteristics and keywords</li>
<li>File <code>FindEL_FitsIO.cmake</code> added to link against the library outside of EDEN</li>
<li>Class <code>FitsIOError</code> is used to throw all exceptions</li>
<li>Function <code>version()</code> returns the version of EL_FitsIO</li>
</ul>
<h2><a class="anchor" id="autotoc_md69"></a>
Cleaning</h2>
<ul>
<li>Internal optimizations</li>
</ul>
<h1><a class="anchor" id="autotoc_md70"></a>
2.1 (breaking)</h1>
<h2><a class="anchor" id="autotoc_md71"></a>
API changes</h2>
<ul>
<li>Naming homogeneization:<ul>
<li><code>ColumnInfo::repeat()</code> -&gt; <code>ColumnInfo::repeatCount()</code></li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md72"></a>
Bug fixes</h2>
<ul>
<li>Column units are correctly read</li>
<li>No more memory error when columns of different sizes are written</li>
</ul>
<h2><a class="anchor" id="autotoc_md73"></a>
New features</h2>
<ul>
<li>Check whether a record has a long keyword (&gt; 8 characters) or a long string value (&gt; 68 characters)</li>
<li>Get the type of an HDU</li>
<li>Read the full header as a string</li>
<li>Check whether a record or column exists</li>
<li>Provide a fallback value when a record is not found</li>
<li>Read binary table or image dimensions</li>
<li>Write a COMMENT or HISTORY record</li>
<li>Check whether a SifFile or MefFile is open</li>
<li>Program <code>EL_FitsIO_PrintSupportedTypes</code> prints supported types for each data class!</li>
<li><code>HDUNAME</code> keyword support for extension name</li>
</ul>
<h2><a class="anchor" id="autotoc_md74"></a>
Cleaning</h2>
<ul>
<li><code>FitsFile::open()</code> throws an error if already open</li>
<li>Fixture classes better organized</li>
<li>Comprehensive testing of the supported types</li>
<li>Reviewed documentation</li>
<li>Cleaned variadic template patterns</li>
<li>Cleaned boost::any patterns</li>
</ul>
<h2><a class="anchor" id="autotoc_md75"></a>
Known bugs/issues</h2>
<ul>
<li><code>unsigned long</code> records larger than the greatest <code>long</code> cannot be read (CFITSIO bug), although they can be written</li>
<li>Boolean columns are not supported</li>
</ul>
<h1><a class="anchor" id="autotoc_md76"></a>
2.0 (breaking)</h1>
<h2><a class="anchor" id="autotoc_md77"></a>
Bug fixes</h2>
<ul>
<li>Records with comments of the form <code>[foo] bar</code> are correctly written.</li>
</ul>
<h2><a class="anchor" id="autotoc_md78"></a>
API changes</h2>
<ul>
<li>pascalCase functions and methods</li>
<li>Reading and writing operations are made explicit in method naming:<ul>
<li><code>ImageHdu::resize()</code> -&gt; <code>ImageHdu::updateShape()</code></li>
<li><code>MefFile::hduNames()</code> -&gt; <code>MefFile::readHduNames()</code></li>
<li><code>RecordHdu::keywords()</code> -&gt; <code>RecordHdu::readKeywords()</code></li>
<li><code>RecordHdu::name()</code> -&gt; <code>RecordHdu::readName()</code></li>
<li><code>RecordHdu::rename()</code> -&gt; <code>RecordHdu::updateName()</code></li>
</ul>
</li>
<li>Naming homogeneization:<ul>
<li><code>Column::nelements()</code> -&gt; <code>Column::elementCount()</code></li>
<li><code>Column::rows()</code> -&gt; <code>Column::rowCount()</code></li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md79"></a>
New features</h2>
<ul>
<li>Records can be written as tuples in addition to parameter packs</li>
<li>Records of <code>any</code> can be read and written</li>
<li>New helper method <code>Record&lt;T&gt;::cast&lt;U&gt;()</code> where <code>T</code> and <code>U</code> can be <code>any</code></li>
<li>Vectors of homogeneous records can be read and written</li>
<li>New helper class <code>RecordVector</code> to find homogeneous records by keyword</li>
<li>Method <code>RecordHdu::parseAllRecords()</code> parses a whole header unit</li>
<li>Minor additions:<ul>
<li><code>ImageHdu::readShape()</code></li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md80"></a>
Cleaning</h2>
<ul>
<li>Format with clang-format</li>
<li>Inline definitions in dedicated source files</li>
</ul>
<h2><a class="anchor" id="autotoc_md81"></a>
Known bugs/issues</h2>
<ul>
<li><code>unsigned long</code> records larger than the greatest <code>long</code> cannot be read (CFITSIO bug), although they can be written</li>
<li>Boolean columns are not supported</li>
<li>Columns are assumed to have consistent sizes</li>
</ul>
<h1><a class="anchor" id="autotoc_md82"></a>
1.9</h1>
<h2><a class="anchor" id="autotoc_md83"></a>
API changes</h2>
<ul>
<li>Indices and lengths as <code>long</code>s instead size_t`s</li>
</ul>
<h2><a class="anchor" id="autotoc_md84"></a>
New features</h2>
<ul>
<li>Records can be created from <code>const char*</code> values in addition string`</li>
</ul>
<h2><a class="anchor" id="autotoc_md85"></a>
Safety</h2>
<ul>
<li>Test CFITSIO bug in reading <code>unsigned long</code> records (see known bugs)</li>
<li>Explicitly cast every conversion</li>
</ul>
<h2><a class="anchor" id="autotoc_md86"></a>
Cleaning</h2>
<ul>
<li>Doc review</li>
</ul>
<h2><a class="anchor" id="autotoc_md87"></a>
Known bugs/issues</h2>
<ul>
<li><code>unsigned long</code> records larger than the greatest <code>long</code> cannot be read (CFITSIO bug), although they can be written</li>
<li>Boolean columns are not supported</li>
<li>Columns are assumed to have consistent sizes</li>
</ul>
<h1><a class="anchor" id="autotoc_md88"></a>
1.4</h1>
<h2><a class="anchor" id="autotoc_md89"></a>
Bug fixes</h2>
<ul>
<li>Fix row-wise reading and writing of string columns</li>
<li>Fix memory issue with multiple closing of a FitsFile</li>
</ul>
<h2><a class="anchor" id="autotoc_md90"></a>
Safety</h2>
<ul>
<li>Better manage memory</li>
<li>Nullify file pointer at closing</li>
<li>Remove useless template specialization</li>
<li>Better test type management</li>
</ul>
<h2><a class="anchor" id="autotoc_md91"></a>
Performance</h2>
<ul>
<li>Precompilation of main template functions to make user code compile faster</li>
<li>Rely on stack where possible</li>
</ul>
<h2><a class="anchor" id="autotoc_md92"></a>
Cleaning</h2>
<ul>
<li>Fix CFITSIO include</li>
<li>Overall code quality review</li>
</ul>
<h2><a class="anchor" id="autotoc_md93"></a>
Known bugs/issues</h2>
<ul>
<li>Boolean columns are not supported</li>
<li>Columns are assumed to have consistent sizes</li>
<li><code>const char*</code> is not supported; <code>string</code> should be used instead</li>
</ul>
<h1><a class="anchor" id="autotoc_md94"></a>
1.2</h1>
<h2><a class="anchor" id="autotoc_md95"></a>
Bug fixes</h2>
<ul>
<li>Record units are correctly handled</li>
<li>signed char and unsigned int's are correctly handled</li>
<li>Empty string records can be read</li>
<li>Appending extensions in pre-existing MEF works</li>
</ul>
<h2><a class="anchor" id="autotoc_md96"></a>
New features</h2>
<p >File handlers:</p>
<ul>
<li>Get the number of HDUs in a MEF file (fixes flawed behavior of CFITSIO)</li>
<li>List HDU names</li>
<li>Get the file name</li>
</ul>
<p >Records:</p>
<ul>
<li>List record keywords</li>
<li>Store records directly in user-defined structure when parsing</li>
<li>Write brace-initialized records</li>
</ul>
<p >Binary tables:</p>
<ul>
<li>Row-wise binary table reading and writing (huge performance improvement, not available in CFITSIO)</li>
<li>Append new columns in a binary table</li>
</ul>
<h2><a class="anchor" id="autotoc_md97"></a>
Known bugs</h2>
<ul>
<li>Boolean columns are not working</li>
</ul>
<h1><a class="anchor" id="autotoc_md98"></a>
1.0</h1>
<h2><a class="anchor" id="autotoc_md99"></a>
Initial features</h2>
<ul>
<li>Opening, creation, closing of MEF and SIF files</li>
<li>Access to HDUs, creation of binary table and image extensions</li>
<li>Reading and writing of records</li>
<li>Reading and writing of binary table data</li>
<li>Reading and writing of image data</li>
</ul>
<h2><a class="anchor" id="autotoc_md100"></a>
Missing features which could be added</h2>
<ul>
<li>Binary tables cannot be modified (e.g. add or remove columns or rows)</li>
<li>Binary tables cannot be preprocessed (sorted or filtered)</li>
<li>HDUs cannot be removed</li>
<li>Images cannot be (de)compressed</li>
<li>Tables cannot be read by rows</li>
<li>Images and tables cannot be copied</li>
</ul>
<h2><a class="anchor" id="autotoc_md101"></a>
Missing features which will probably not be added</h2>
<ul>
<li>Iterators are not supported</li>
<li>Row selection is not supported</li>
</ul>
<h2><a class="anchor" id="autotoc_md102"></a>
Known bugs</h2>
<ul>
<li>Boolean columns are not working (requires discussions with CFITSIO devs)</li>
<li>Units are not consistently handled in records </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.9.2-->
<!-- start footer part -->
<hr class="footer" />
<address class="footer"><small>
    Â© Copyright 2019-2022 CNES and contributors (for the Euclid Science Ground Segment).
    <br>
    The EleFits documentation is licensed under a
    <a rel="license" href="md_LICENSE.html">LGPL-3.0-or-later</a> license.
    <br>
    It is generated by <a href="https://www.doxygen.org/index.html">Doxygen</a> 1.9.5
    with a theme adapted from <a href="https://github.com/jothepro/doxygen-awesome-css">Doxygen Awesome</a>
    and using <a href="https://github.com/tholman/github-corners">GitHub Corners</a>.
    Thank you all!
  </small></address>
</body>
</html>