<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.19"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EleFits: Euclid::Fits::ColumnInfo&lt; T &gt; Struct Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="elefits_notext.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EleFits
   &#160;<span id="projectnumber">4.0.1</span>
   </div>
   <div id="projectbrief">A modern C++ API on top of CFitsIO</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.19 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceEuclid.html">Euclid</a></li><li class="navelem"><a class="el" href="namespaceEuclid_1_1Fits.html">Fits</a></li><li class="navelem"><a class="el" href="structEuclid_1_1Fits_1_1ColumnInfo.html">ColumnInfo</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structEuclid_1_1Fits_1_1ColumnInfo-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Euclid::Fits::ColumnInfo&lt; T &gt; Struct Template Reference<div class="ingroups"><a class="el" href="group__data__classes.html">Data classes</a> &raquo; <a class="el" href="group__bintable__data__classes.html">Binary table data classes</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;Column.h&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Class Description</h2>
<div class="textblock"><h3>template&lt;typename T&gt;<br />
struct Euclid::Fits::ColumnInfo&lt; T &gt;</h3>

<p><a class="el" href="classEuclid_1_1Fits_1_1Column.html" title="Binary table column data and metadata.">Column</a> metadata, i.e. <code>{ name, unit, repeatCount }</code> and the value type as the template parameter. </p>
<p>Binary table columns are either scalar (<code>repeatCount</code> = 1) or vector (<code>repeatCount</code> &gt; 1). In the case of vector columns, each cell of the column contains <code>repeatCount</code> values. Here is an example of a 4-row table with a scalar column and a vector column with a repeat count of 3: </p><table class="doxtable">
<tr>
<th>Row</th><th>repeatCount = 1</th><th>repeatCount = 3 </th></tr>
<tr style="text-align:center">
<td>0</td><td>00</td><td>00, 01, 02 </td></tr>
<tr style="text-align:center">
<td>1</td><td>10</td><td>10, 11, 12 </td></tr>
<tr style="text-align:center">
<td>2</td><td>20</td><td>20, 21, 22 </td></tr>
<tr style="text-align:center">
<td>3</td><td>30</td><td>30, 31, 32 </td></tr>
</table>
<p>For performance, the values are stored sequentially in a 1D array as follows: </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> repeat1[] = { 00, 10, 20, 30 };</div>
<div class="line"><span class="keywordtype">int</span> repeat3[] = { 00, 01, 02, 10, 11, 12, 20, 21, 22, 30, 31, 32 };</div>
</div><!-- fragment --><p>The only exception to this is string columns, which are vector columns &ndash; they should have a repeat count greater than the maximum number of characters in a cell &ndash; but each cell contains only one string: </p><table class="doxtable">
<tr>
<th>Row</th><th>repeatCount = 6 </th></tr>
<tr>
<td>0</td><td><code>"ZERO"</code> </td></tr>
<tr>
<td>1</td><td><code>"ONE"</code> </td></tr>
<tr>
<td>2</td><td><code>"TWO"</code> </td></tr>
<tr>
<td>3</td><td><code>"THREE"</code> </td></tr>
</table>
<p>The data array is a simple array of <code><a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html" title="STL class.">std::string</a></code>s: </p><div class="fragment"><div class="line"><a class="codeRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a> data[] = { <span class="stringliteral">&quot;ZERO&quot;</span>, <span class="stringliteral">&quot;ONE&quot;</span>, <span class="stringliteral">&quot;TWO&quot;</span>, <span class="stringliteral">&quot;THREE&quot;</span>, };</div>
</div><!-- fragment --><p> but the repeat count should be at least 6 (beware of the null terminating character).</p>
<dl class="section note"><dt>Note</dt><dd>Since the values are stored sequentially even for vector columns, a scalar column can be "fold" into a vector column by just setting a repeat count greater than 1, and vice-versa. This trick allows writing scalar columns as vector columns, which is what CFitsIO recommends for performance. Indeed, with CFitsIO, it is much faster to write 1 row with a repeat count of 10.000 than 10.000 rows with a repeat count of 1. This is because binary tables are written row-wise in the <a class="el" href="namespaceEuclid_1_1Fits.html" title="Wrapper classes to read and write Fits file contents.">Fits</a> file. CFitsIO uses an internal buffer, which can be exploited to optimize reading and writing. This is generally handled through the "iterator function" provided by CFitsIO. </dd>
<dd>
Fortunately, this complexity is already embedded in EleFits internals: the buffer is used optimally when reading and writing several columns. In general, it is nearly as fast to read and write scalar columns as vector columns with EleFits. Therefore, users are encouraged to consider the repeat count as a meaningful value, rather than as an optimization trick.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__optim.html">Optimization and good practices</a> </dd>
<dd>
<a class="el" href="group__data__classes.html">Data classes</a> </dd></dl>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a3097bc3ccbca348dffb193e8de16c25e"><td class="memItemLeft" align="right" valign="top"><a id="a3097bc3ccbca348dffb193e8de16c25e"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structEuclid_1_1Fits_1_1ColumnInfo.html#a3097bc3ccbca348dffb193e8de16c25e">Value</a> = T</td></tr>
<tr class="memdesc:a3097bc3ccbca348dffb193e8de16c25e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The value type. <br /></td></tr>
<tr class="separator:a3097bc3ccbca348dffb193e8de16c25e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a78065e765cfef03ba0d1e06d2774f8bb"><td class="memItemLeft" align="right" valign="top"><a id="a78065e765cfef03ba0d1e06d2774f8bb"></a>
<a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structEuclid_1_1Fits_1_1ColumnInfo.html#a78065e765cfef03ba0d1e06d2774f8bb">name</a></td></tr>
<tr class="memdesc:a78065e765cfef03ba0d1e06d2774f8bb"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classEuclid_1_1Fits_1_1Column.html" title="Binary table column data and metadata.">Column</a> name. <br /></td></tr>
<tr class="separator:a78065e765cfef03ba0d1e06d2774f8bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a621750e9f07422633bd8d91d7aec8c40"><td class="memItemLeft" align="right" valign="top"><a id="a621750e9f07422633bd8d91d7aec8c40"></a>
<a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structEuclid_1_1Fits_1_1ColumnInfo.html#a621750e9f07422633bd8d91d7aec8c40">unit</a> = &quot;&quot;</td></tr>
<tr class="memdesc:a621750e9f07422633bd8d91d7aec8c40"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classEuclid_1_1Fits_1_1Column.html" title="Binary table column data and metadata.">Column</a> unit. <br /></td></tr>
<tr class="separator:a621750e9f07422633bd8d91d7aec8c40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae236f917f10630fbc3e72a800595312c"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structEuclid_1_1Fits_1_1ColumnInfo_ae236f917f10630fbc3e72a800595312c.html#ae236f917f10630fbc3e72a800595312c">repeatCount</a> = 1</td></tr>
<tr class="memdesc:ae236f917f10630fbc3e72a800595312c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Repeat count of the column, i.e., number of values per cell.  <a href="structEuclid_1_1Fits_1_1ColumnInfo_ae236f917f10630fbc3e72a800595312c.html#ae236f917f10630fbc3e72a800595312c">More...</a><br /></td></tr>
<tr class="separator:ae236f917f10630fbc3e72a800595312c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>EleFitsData/EleFitsData/Column.h</li>
</ul>
</div><!-- contents -->
<div class="ttc" id="abasic_string_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a></div><div class="ttdoc">STL class.</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.19
</small></address>
</body>
</html>
